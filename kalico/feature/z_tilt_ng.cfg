[z_tilt_ng]

[gcode_macro Z_TILT_ADJUST]
description: Adjust the Z tilt
rename_existing: _Z_TILT_ADJUST
gcode:
    {% if 'STATUS_LEVELING' in printer.gcode.commands %}
        STATUS_LEVELING
    {% endif %}

    _Z_TILT_ADJUST {rawparams}

    {% if 'STATUS_READY' in printer.gcode.commands %}
        STATUS_READY
    {% endif %}

[gcode_macro TRAM]
description: Run Z tilt if not applied
gcode:
    {% not printer.z_tilt.applied %}
        M117 Tramming
        Z_TILT_ADJUST
    {% endif %}
